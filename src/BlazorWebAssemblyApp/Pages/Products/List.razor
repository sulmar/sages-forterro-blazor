@page "/products"
@inject IHttpClientFactory factory

<LoaderComponent Items="@products" Title="Loading Products...">
    <ProductsTable Products="@products" />
</LoaderComponent>

@code {

    private IEnumerable<Product>? products;

    protected override async Task OnInitializedAsync()
    {
        var http = factory.CreateClient("Api");

        products = await http.GetFromJsonAsync<IEnumerable<Product>>("api/products");
    }


}
